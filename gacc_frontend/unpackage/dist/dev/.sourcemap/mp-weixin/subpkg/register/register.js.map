{"version":3,"sources":["uni-app:///main.js","webpack:///D:/miniprogramdevelop/program/gacc/subpkg/register/register.vue?cdb2","webpack:///D:/miniprogramdevelop/program/gacc/subpkg/register/register.vue?8143","webpack:///D:/miniprogramdevelop/program/gacc/subpkg/register/register.vue?45bb","webpack:///D:/miniprogramdevelop/program/gacc/subpkg/register/register.vue?aecb","uni-app:///subpkg/register/register.vue","webpack:///D:/miniprogramdevelop/program/gacc/subpkg/register/register.vue?e890","webpack:///D:/miniprogramdevelop/program/gacc/subpkg/register/register.vue?72f2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","form","userID","userName","phoneNumber","idNumber","password","confirmPassword","role","roleIndex","roleOptions","methods","onRoleChange","validateForm","uni","title","icon","handleRegister","url","method","header","UserID","UserName","PhoneNumber","IDNumber","Password","Role","success","setTimeout","fail","console","goToLogin"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqmB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCyGznB;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;QACAC;UAAAC;UAAAC;QAAA;QACA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MAEAH;QAAAC;MAAA;;MAEA;MACAD;QACAI;QACAC;QACAC;UAAA;QAAA;QACApB;UACAqB;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;QACAC;UACAb;UACA;YACAA;cAAAC;cAAAC;YAAA;YACAY;cACAd;gBAAAI;cAAA;YACA;UACA;YACAJ;cACAC;cACAC;YACA;UACA;QACA;QACAa;UACAf;UACAA;YAAAC;YAAAC;UAAA;UACAc;QACA;MACA;IACA;IAEA;IACAC;MACAjB;QAAAI;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtNA;AAAA;AAAA;AAAA;AAAw3B,CAAgB,u2BAAG,EAAC,C;;;;;;;;;;;ACA54B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subpkg/register/register.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/register/register.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./register.vue?vue&type=template&id=f9948f4c&\"\nvar renderjs\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/register/register.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=template&id=f9948f4c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"container\">\n    <view class=\"card register-card\">\n      <view class=\"card-header\">\n        <text class=\"card-title\">用户注册</text>\n      </view>\n      <view class=\"card-body\">\n        <!-- 用户名 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">用户昵称</text>\n          <input\n            v-model=\"form.userID\"\n            class=\"uni-input form-input\"\n            type=\"text\"\n            placeholder=\"请输入用户昵称\"\n            maxlength=\"50\"\n          />\n        </view>\n        <!-- 用户姓名 -->\r\n        <view class=\"form-item\">\r\n          <text class=\"form-label\">用户姓名</text>\r\n          <input\r\n            v-model=\"form.userName\"\r\n            class=\"uni-input form-input\"\r\n            type=\"text\"\r\n            placeholder=\"请输入用户姓名\"\r\n            maxlength=\"20\"\r\n          />\r\n        </view>\n        <!-- 手机号 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">手机号</text>\n          <input\n            v-model=\"form.phoneNumber\"\n            class=\"uni-input form-input\"\n            type=\"number\"\n            placeholder=\"请输入11位手机号\"\n            maxlength=\"11\"\n          />\n        </view>\n        \n        <!-- 身份证号 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">身份证号</text>\n          <input\n            v-model=\"form.idNumber\"\n            class=\"uni-input form-input\"\n            type=\"idcard\"\n            placeholder=\"请输入18位身份证号\"\n            maxlength=\"18\"\n          />\n        </view>\n        \n        <!-- 密码 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">密码</text>\n          <input\n            v-model=\"form.password\"\n            class=\"uni-input form-input\"\n            type=\"password\"\n            placeholder=\"请输入6-20位密码\"\n            maxlength=\"20\"\n          />\n        </view>\n        \n        <!-- 确认密码 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">确认密码</text>\n          <input\n            v-model=\"form.confirmPassword\"\n            class=\"uni-input form-input\"\n            type=\"password\"\n            placeholder=\"请再次输入密码\"\n            maxlength=\"20\"\n          />\n        </view>\n        \n        <!-- 角色选择 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">用户角色</text>\n          <picker \n            @change=\"onRoleChange\" \n            :value=\"roleIndex\" \n            :range=\"roleOptions\"\n            class=\"role-picker\"\n          >\n            <view class=\"picker\">\n              {{form.role || '请选择用户角色'}}\n            </view>\n          </picker>\n        </view>\n        \n        <!-- 注册按钮 -->\n        <button class=\"btn-register\" @click=\"handleRegister\">注册</button>\n        \n        <!-- 已有账号登录 -->\n        <view class=\"login-link\" @click=\"goToLogin\">\n          <text>已有账号？去登录</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      form: {\r\n        userID: '',\n        userName: '',\n        phoneNumber: '',\n        idNumber: '',\n        password: '',\n        confirmPassword: '',\n        role: ''\n      },\n      roleIndex: -1,\n      roleOptions: ['用户','管理员']\n    };\n  },\n  methods: {\n    // 角色选择变化\n    onRoleChange(e) {\n      this.roleIndex = e.detail.value\n      this.form.role = this.roleOptions[this.roleIndex]\n    },\n    \n    // 表单验证\n    validateForm() {\r\n      if (!this.form.userID) {\r\n        uni.showToast({ title: '请输入用户昵称', icon: 'none' })\r\n        return false\r\n      }\r\n      \n      if (!this.form.userName) {\n        uni.showToast({ title: '请输入用户姓名', icon: 'none' })\n        return false\n      }\n      \n      if (!/^1[3-9]\\d{9}$/.test(this.form.phoneNumber)) {\n        uni.showToast({ title: '请输入正确的手机号', icon: 'none' })\n        return false\n      }\n      \n      if (!/(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/.test(this.form.idNumber)) {\n        uni.showToast({ title: '请输入正确的身份证号', icon: 'none' })\n        return false\n      }\n      \n      if (this.form.password.length < 6|| this.form.password.length > 20) {\n        uni.showToast({ title: '密码长度需在6~20位之间', icon: 'none' })\n        return false\n      }\n      \n      if (this.form.password !== this.form.confirmPassword) {\n        uni.showToast({ title: '两次输入的密码不一致', icon: 'none' })\n        return false\n      }\n      \n      if (!this.form.role) {\n        uni.showToast({ title: '请选择用户角色', icon: 'none' })\n        return false\n      }\n      \n      return true\n    },\n    \n    // 注册提交\n    handleRegister() {\n      if (!this.validateForm()) return\n      \n      uni.showLoading({ title: '注册中...' })\n      \n      // 这里替换为你的实际API地址\n      uni.request({\n        url: 'http://localhost:3000/register',\n        method: 'POST',\n        header: { 'Content-Type': 'application/json' },\n        data: {\r\n          UserID: this.form.userID,\n          UserName: this.form.userName,\n          PhoneNumber: this.form.phoneNumber,\n          IDNumber: this.form.idNumber,\n          Password: this.form.password,\n          Role: this.form.role\n        },\n        success: (res) => {\n          uni.hideLoading()\n          if (res.statusCode === 200 && res.data.success) {\n            uni.showToast({ title: '注册成功', icon: 'success' })\n            setTimeout(() => {\n              uni.switchTab({ url: '/pages/index/index' })\n            }, 1500)\n          } else {\n            uni.showToast({ \n              title: res.data.message || '注册失败', \n              icon: 'none' \n            })\n          }\n        },\n        fail: (err) => {\n          uni.hideLoading()\n          uni.showToast({ title: '请求出错', icon: 'none' })\n          console.error(err)\n        }\n      })\n    },\n    \n    // 跳转到登录页\n    goToLogin() {\n      uni.switchTab({ url: '/pages/index/index' })\n    }\n  }\n};\n</script>\n\n<style>\n/* 基础样式 */\n.container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  padding: 20rpx;\n}\n\n/* 卡片样式 */\n.register-card {\n  width: 98%;\n  background-color: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n}\n\n.card-header {\n  padding: 30rpx;\n  border-bottom: 1rpx solid #eee;\n}\n\n.card-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n  text-align: center;\n}\n\n.card-body {\n  padding: 30rpx;\n}\n\n/* 表单样式 */\n.form-item {\n  margin-bottom: 30rpx;\n}\n\n.form-label {\n  display: block;\n  font-size: 28rpx;\n  color: #666;\n  margin-bottom: 10rpx;\n}\n\n.form-input {\n  width: 95%;\n  height: 80rpx;\n  padding: 0 20rpx;\n  font-size: 28rpx;\n  border: 1rpx solid #ddd;\n  border-radius: 8rpx;\n  background-color: #fafafa;\n}\n\n/* 角色选择器 */\n.role-picker {\n  width: 95%;\n  height: 80rpx;\n  line-height: 80rpx;\n  padding: 0 20rpx;\n  font-size: 28rpx;\n  border: 1rpx solid #ddd;\n  border-radius: 8rpx;\n  background-color: #fafafa;\n}\n\n/* 注册按钮 */\n.btn-register {\n  width: 100%;\n  height: 88rpx;\n  margin-top: 40rpx;\n  background-color: #67c23a;\n  color: #fff;\n  font-size: 32rpx;\n  border-radius: 20rpx;\n  border: none;\n}\n\n/* 登录链接 */\n.login-link {\n  margin-top: 30rpx;\n  text-align: center;\n  font-size: 26rpx;\n  color: #999;\n  text-decoration: underline;\n  padding: 10rpx 0;\n}\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1750234746072\n      var cssReload = require(\"D:/miniprogramdevelop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}