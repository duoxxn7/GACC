<view class="admin-container data-v-1e950d16"><view class="header data-v-1e950d16"><text class="title data-v-1e950d16">管理员控制面板</text></view><view class="tabs data-v-1e950d16"><button data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="{{['data-v-1e950d16','tab-button',activeTab==='users'?'active':'']}}" bindtap="__e">用户管理</button><button data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="{{['data-v-1e950d16','tab-button',activeTab==='items'?'active':'']}}" bindtap="__e">商品审核</button><button data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="{{['data-v-1e950d16','tab-button',activeTab==='products'?'active':'']}}" bindtap="__e">商品管理</button></view><block wx:if="{{activeTab==='users'}}"><view class="section data-v-1e950d16"><view class="search-bar data-v-1e950d16"><input class="search-input data-v-1e950d16" placeholder="搜索用户名或手机号" data-event-opts="{{[['input',[['__set_model',['','userSearch','$event',[]]]]]]}}" value="{{userSearch}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['searchUsers',['$event']]]]]}}" class="search-button data-v-1e950d16" bindtap="__e">搜索</button></view><scroll-view class="table-container data-v-1e950d16" scroll-y="{{true}}"><view class="data-table _table data-v-1e950d16"><view class="_tbody data-v-1e950d16"><block wx:for="{{filteredUsers}}" wx:for-item="user" wx:for-index="__i0__" wx:key="UserID"><view class="_tr data-v-1e950d16"><view class="_td data-v-1e950d16">{{user.UserName}}</view><view class="_td data-v-1e950d16">{{user.PhoneNumber}}</view><view class="_td data-v-1e950d16">{{user.Role}}</view><view class="_td data-v-1e950d16">{{user.CreditLevel}}</view><view class="{{['_td','data-v-1e950d16',user.CreditLevel>0?'status-enabled':'status-disabled']}}">{{''+(user.CreditLevel>0?'启用':'禁用')+''}}</view><view class="actions _td data-v-1e950d16"><button data-event-opts="{{[['tap',[['editUser',['$0'],[[['filteredUsers','UserID',user.UserID]]]]]]]}}" class="btn-edit data-v-1e950d16" bindtap="__e">编辑</button><button data-event-opts="{{[['tap',[['toggleUserStatus',['$0'],[[['filteredUsers','UserID',user.UserID]]]]]]]}}" class="{{['data-v-1e950d16',user.CreditLevel>0?'btn-disable':'btn-enable']}}" bindtap="__e">{{''+(user.CreditLevel>0?'禁用':'启用')+''}}</button></view></view></block></view></view></scroll-view></view></block><block wx:if="{{activeTab==='items'}}"><view class="section data-v-1e950d16"><view class="search-bar data-v-1e950d16"><input class="search-input data-v-1e950d16" placeholder="搜索商品名称或ID" data-event-opts="{{[['input',[['__set_model',['','itemSearch','$event',[]]]]]]}}" value="{{itemSearch}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['searchItems',['$event']]]]]}}" class="search-button data-v-1e950d16" bindtap="__e">搜索</button></view><scroll-view class="table-container data-v-1e950d16" scroll-y="{{true}}"><view class="data-table _table data-v-1e950d16"><view class="_tbody data-v-1e950d16"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i1__" wx:key="ItemID"><view class="_tr data-v-1e950d16"><view class="_td data-v-1e950d16">{{item.$orig.ItemID}}</view><view class="_td data-v-1e950d16">{{item.$orig.ItemName}}</view><view class="_td data-v-1e950d16">{{item.$orig.GameName}}</view><view class="_td data-v-1e950d16">{{"¥"+item.$orig.Price}}</view><view class="_td data-v-1e950d16">{{item.m0}}</view><view class="status-pending _td data-v-1e950d16">待审核</view><view class="actions _td data-v-1e950d16"><button data-event-opts="{{[['tap',[['approveItem',['$0'],[[['filteredItems','ItemID',item.$orig.ItemID]]]]]]]}}" class="btn-approve data-v-1e950d16" bindtap="__e">通过</button><button data-event-opts="{{[['tap',[['showRejectDialog',['$0'],[[['filteredItems','ItemID',item.$orig.ItemID]]]]]]]}}" class="btn-reject data-v-1e950d16" bindtap="__e">拒绝</button></view></view></block></view></view></scroll-view></view></block><block wx:if="{{activeTab==='products'}}"><view class="section data-v-1e950d16"><view class="search-bar data-v-1e950d16"><input class="search-input data-v-1e950d16" placeholder="搜索商品名称或ID" data-event-opts="{{[['input',[['__set_model',['','productSearch','$event',[]]]]]]}}" value="{{productSearch}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['searchProducts',['$event']]]]]}}" class="search-button data-v-1e950d16" bindtap="__e">搜索</button></view><scroll-view class="table-container data-v-1e950d16" scroll-y="{{true}}"><view class="data-table _table data-v-1e950d16"><view class="_tbody data-v-1e950d16"><block wx:for="{{$root.l1}}" wx:for-item="product" wx:for-index="__i2__" wx:key="ItemID"><view class="_tr data-v-1e950d16"><view class="_td data-v-1e950d16">{{product.$orig.ItemID}}</view><view class="_td data-v-1e950d16">{{product.$orig.ItemName}}</view><view class="_td data-v-1e950d16">{{product.$orig.GameName}}</view><view class="_td data-v-1e950d16">{{"¥"+product.$orig.Price}}</view><view class="_td data-v-1e950d16">{{product.m1}}</view><view class="actions _td data-v-1e950d16"><button data-event-opts="{{[['tap',[['editProduct',['$0'],[[['filteredProducts','ItemID',product.$orig.ItemID]]]]]]]}}" class="btn-edit data-v-1e950d16" bindtap="__e">编辑</button><block wx:if="{{product.$orig.IsApproved}}"><button data-event-opts="{{[['tap',[['showDisableDialog',['$0'],[[['filteredProducts','ItemID',product.$orig.ItemID]]]]]]]}}" class="btn-disable data-v-1e950d16" bindtap="__e">下架</button></block><block wx:else><label class="status-text _span data-v-1e950d16">需重新审核</label></block></view></view></block></view></view></scroll-view></view></block><block wx:if="{{showUserEditModal}}"><view class="modal data-v-1e950d16"><view class="modal-content data-v-1e950d16"><text class="modal-title data-v-1e950d16">编辑用户信息</text><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">用户名</text><input data-event-opts="{{[['input',[['__set_model',['$0','UserName','$event',[]],['currentEdit']]]]]}}" class="input data-v-1e950d16" value="{{currentEdit.UserName}}" bindinput="__e"/></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">手机号</text><input data-event-opts="{{[['input',[['__set_model',['$0','PhoneNumber','$event',[]],['currentEdit']]]]]}}" class="input data-v-1e950d16" value="{{currentEdit.PhoneNumber}}" bindinput="__e"/></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">角色</text><picker value="{{currentEdit.Role==='管理员'?1:0}}" range="{{['普通用户','管理员']}}" data-event-opts="{{[['change',[['onRoleChange',['$event']]]]]}}" bindchange="__e" class="data-v-1e950d16"><view class="picker data-v-1e950d16">{{currentEdit.Role}}</view></picker></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">信誉分</text><input class="input data-v-1e950d16" type="number" data-event-opts="{{[['input',[['__set_model',['$0','CreditLevel','$event',[]],['currentEdit']]]]]}}" value="{{currentEdit.CreditLevel}}" bindinput="__e"/></view><view class="button-group data-v-1e950d16"><button data-event-opts="{{[['tap',[['saveUser',['$event']]]]]}}" class="btn-save data-v-1e950d16" bindtap="__e">保存</button><button data-event-opts="{{[['tap',[['cancelEdit',['$event']]]]]}}" class="btn-cancel data-v-1e950d16" bindtap="__e">取消</button></view></view></view></block><block wx:if="{{showProductEditModal}}"><view class="modal data-v-1e950d16"><view class="modal-content data-v-1e950d16"><text class="modal-title data-v-1e950d16">编辑商品信息</text><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">商品名称</text><input data-event-opts="{{[['input',[['__set_model',['$0','ItemName','$event',[]],['currentEdit']]]]]}}" class="input data-v-1e950d16" value="{{currentEdit.ItemName}}" bindinput="__e"/></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">游戏名称</text><input data-event-opts="{{[['input',[['__set_model',['$0','GameName','$event',[]],['currentEdit']]]]]}}" class="input data-v-1e950d16" value="{{currentEdit.GameName}}" bindinput="__e"/></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">商品类型</text><input data-event-opts="{{[['input',[['__set_model',['$0','ItemType','$event',[]],['currentEdit']]]]]}}" class="input data-v-1e950d16" value="{{currentEdit.ItemType}}" bindinput="__e"/></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">价格</text><input class="input data-v-1e950d16" type="number" data-event-opts="{{[['input',[['__set_model',['$0','Price','$event',[]],['currentEdit']]]]]}}" value="{{currentEdit.Price}}" bindinput="__e"/></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">库存</text><input class="input data-v-1e950d16" type="number" data-event-opts="{{[['input',[['__set_model',['$0','Stock','$event',[]],['currentEdit']]]]]}}" value="{{currentEdit.Stock}}" bindinput="__e"/></view><view class="form-group data-v-1e950d16"><text class="label data-v-1e950d16">商品图片URL</text><input data-event-opts="{{[['input',[['__set_model',['$0','ItemImage','$event',[]],['currentEdit']]]]]}}" class="input data-v-1e950d16" value="{{currentEdit.ItemImage}}" bindinput="__e"/></view><view class="button-group data-v-1e950d16"><button data-event-opts="{{[['tap',[['saveProduct',['$event']]]]]}}" class="btn-save data-v-1e950d16" bindtap="__e">保存</button><button data-event-opts="{{[['tap',[['cancelEdit',['$event']]]]]}}" class="btn-cancel data-v-1e950d16" bindtap="__e">取消</button></view></view></view></block><block wx:if="{{showReasonDialog}}"><view class="modal data-v-1e950d16"><view class="modal-content data-v-1e950d16"><text class="modal-title data-v-1e950d16">{{dialogTitle}}</text><textarea class="reason-input data-v-1e950d16" placeholder="请输入原因..." data-event-opts="{{[['input',[['__set_model',['','reasonText','$event',[]]]]]]}}" value="{{reasonText}}" bindinput="__e"></textarea><view class="button-group data-v-1e950d16"><button data-event-opts="{{[['tap',[['confirmAction',['$event']]]]]}}" class="btn-confirm data-v-1e950d16" bindtap="__e">确认</button><button data-event-opts="{{[['tap',[['cancelAction',['$event']]]]]}}" class="btn-cancel data-v-1e950d16" bindtap="__e">取消</button></view></view></view></block><button data-event-opts="{{[['tap',[['refresh',['$event']]]]]}}" class="refresh-button data-v-1e950d16" bindtap="__e">刷新数据</button></view>