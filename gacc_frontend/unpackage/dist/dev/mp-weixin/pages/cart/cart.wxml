<view class="cart-container data-v-0f00adf4"><block wx:if="{{$root.g0>0}}"><view class="data-v-0f00adf4"><block wx:for="{{cartItems}}" wx:for-item="item" wx:for-index="__i0__" wx:key="CartID"><view class="cart-item data-v-0f00adf4"><view class="item-selector data-v-0f00adf4"><checkbox-group data-event-opts="{{[['change',[['toggleSelect',['$0'],[[['cartItems','CartID',item.CartID,'CartID']]]]]]]}}" bindchange="__e" class="data-v-0f00adf4"><checkbox checked="{{item.selected}}" color="#67C23A" class="data-v-0f00adf4"></checkbox></checkbox-group></view><image class="item-image data-v-0f00adf4" src="{{item.ItemImage}}"></image><view class="item-details data-v-0f00adf4"><text class="item-name data-v-0f00adf4">{{item.ItemName}}</text><text class="item-price data-v-0f00adf4">{{"¥"+item.Price}}</text><view class="quantity-control data-v-0f00adf4"><button size="mini" disabled="{{item.Quantity<=1}}" data-event-opts="{{[['tap',[['decreaseQuantity',['$0'],[[['cartItems','CartID',item.CartID]]]]]]]}}" bindtap="__e" class="data-v-0f00adf4">-</button><text class="quantity data-v-0f00adf4">{{item.Quantity}}</text><button size="mini" data-event-opts="{{[['tap',[['increaseQuantity',['$0'],[[['cartItems','CartID',item.CartID]]]]]]]}}" bindtap="__e" class="data-v-0f00adf4">+</button></view></view><button class="delete-btn data-v-0f00adf4" size="mini" data-event-opts="{{[['tap',[['removeFromCart',['$0'],[[['cartItems','CartID',item.CartID]]]]]]]}}" bindtap="__e">删除</button></view></block></view></block><block wx:else><view class="empty-cart data-v-0f00adf4"><image class="empty-image data-v-0f00adf4" src="/static/empty-cart.png"></image><text class="empty-text data-v-0f00adf4">购物车为空</text></view></block><view class="action-bar data-v-0f00adf4"><view class="select-section data-v-0f00adf4"><checkbox-group data-event-opts="{{[['change',[['toggleSelectAll',['$event']]]]]}}" bindchange="__e" class="data-v-0f00adf4"><checkbox checked="{{allSelected}}" color="#67C23A" class="data-v-0f00adf4"></checkbox><text class="select-all-text data-v-0f00adf4">全选</text></checkbox-group></view><view class="amount-section data-v-0f00adf4"><text class="total-label data-v-0f00adf4">合计:</text><text class="total-amount data-v-0f00adf4">{{"¥"+totalAmount}}</text></view><view class="button-section data-v-0f00adf4"><button data-event-opts="{{[['tap',[['refreshCart',['$event']]]]]}}" class="btn-refresh data-v-0f00adf4" bindtap="__e">刷新</button><button class="btn-checkout data-v-0f00adf4" disabled="{{selectedCount===0}}" data-event-opts="{{[['tap',[['checkout',['$event']]]]]}}" bindtap="__e">{{'结算('+selectedCount+')'}}</button></view></view></view>